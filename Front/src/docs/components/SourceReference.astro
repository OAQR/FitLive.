---
/**
 * Componente configurable que soporta 3 presentaciones:
 *  - "box"         (caja solo para botones)
 *  - "inline-box"  (caja para botones y texto)
 *  - "inline"      (sin caja, para botones y texto)
 */

interface Props {
  variant?: 'box' | 'inline-box' | 'inline' | 'table';
  textBefore?: string;
  textAfter?: string;
  label?: string;
  // opcional: permitir clases adicionales
  class?: string;
}

const {
  variant = 'box',
  textBefore = '',
  textAfter = '',
  label = 'Fuentes: ',
  class: extraClass = '',
} = Astro.props;
---

{/** VARIANTE: box (contenedor de botones) */}
{variant === 'box' && (
  <div class={`sources-reference ${extraClass}`}>
    <span class="sources-label" aria-hidden="true">{label}</span>
    <div class="source-buttons" role="toolbar" aria-label={`${label} - botones`}>
      <slot />
    </div>
  </div>
)}

{/** VARIANTE: inline-box (<span> fuera del <p>) */}
{variant === 'inline-box' && (
  <div class={`sources-inline-wrapper sources-reference ${extraClass}`}>
    <span class="sources-label" aria-hidden="true">{label}</span>
    <p class="sources-content" role="group" aria-label={label}>
      {textBefore && <span set:html={textBefore} />}
      <slot />
      {textAfter && <span set:html={textAfter} />}
    </p>
  </div>
)}

{/** VARIANTE: inline (<span> dentro del <p>) */}
{variant === 'inline' && (
  <div class={`sources-inline-wrapper ${extraClass}`}>
    <p class="" role="group" aria-label={label}>
      <span class="sources-label">{label}</span>
      {textBefore && <span set:html={textBefore} />}
      <slot />
      {textAfter && <span set:html={textAfter} />}
    </p>
  </div>
)}

{/** VARIANTE: table (sin margin) */}
{variant === 'table' && (
  <div class={`sources-inline-wrapper sources-inline-margin ${extraClass}`}>
    {textBefore && <span set:html={textBefore} />}
    <slot />
    {textAfter && <span set:html={textAfter} />}
  </div>
)}